(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,n,i){},16:function(e,n,i){},17:function(e,n,i){"use strict";i.r(n);var t=i(0),a=i.n(t),o=i(3),r=i.n(o),c=(i(15),i(4)),s=i(7),l=i(5),d=i(8),m=i(1),p=i(6),w=i.n(p),u=(i(16),new URL("https://precor.github.io/web-api-bridge/examples/react-iframe/webapp/build/").origin),f=function e(n){var i=this;Object(m.a)(this,e),this.welcome=function(e){console.log("sending welcome message to iframe"),i.send("welcome",[e],!1)},this.howOldAreYou=function(){return new Promise(function(e){console.log("sending age to iframe"),e(3)})},this.send=n},g=function(e){function n(e){var i;return Object(m.a)(this,n),(i=Object(s.a)(this,Object(l.a)(n).call(this,e))).setIframe=function(e){e&&!i.iframe&&(i.iframe=e,i.webApiBridge.ipc=e.contentWindow,i.iframe.onload=function(){console.log("iframeUrl loaded"),i.myMainApi.welcome("hello iframe")})},i.webApiBridge=new w.a,i.myMainApi=new f(i.webApiBridge.send.bind(i.webApiBridge)),i.webApiBridge.origin=u,i.webApiBridge.targetOrigin=u,i.webApiBridge.apis=[i.myMainApi],window.addEventListener("message",function(e){return i.webApiBridge.onMessage(e,e.data)}),i}return Object(d.a)(n,e),Object(c.a)(n,[{key:"render",value:function(){var e=this;return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("iframe",{src:"https://precor.github.io/web-api-bridge/examples/react-iframe/webapp/build/",title:"iframe communications",ref:function(n){e.setIframe(n)}}),a.a.createElement("p",null,"parent window")))}}]),n}(t.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(g,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},9:function(e,n,i){e.exports=i(17)}},[[9,1,2]]]);
//# sourceMappingURL=main.e116f069.chunk.js.map