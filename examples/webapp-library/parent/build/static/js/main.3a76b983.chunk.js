(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,i){e.exports=i(52)},51:function(e,t,i){},52:function(e,t,i){"use strict";i.r(t);var n=i(0),a=i.n(n),o=i(16),r=i.n(o),s=i(20),p=i(17),c=i(21),l=i(18),d=i(3),u=i(22),f=i(1),m=i(19),b=i.n(m),h=[],y={Common:function e(){var t=this;Object(f.a)(this,e),this.setSend=function(e){t.send=e},this.displayBlur=function(e){t.send("displayBlur",[e],!1)},this.displayGrayscale=function(e){t.send("displayGrayscale",[e],!1)}},Api1:function e(){var t=this;Object(f.a)(this,e),this.setSend=function(e){t.send=e},this.photoSelected=function(e){t.send("photoSelected",[e],!1)}},Api2:function e(){var t=this;Object(f.a)(this,e),this.setSend=function(e){t.send=e},this.photoClicked=function(e){h.find(function(e){return"LibType1"===e.props.type}).getApiOfType("Api1").photoSelected(e),h.forEach(function(e){e.send!==t.send&&"LibType2"===e.props.type&&e.getApiOfType("Api2").displayNewPhoto()})},this.displayNewPhoto=function(){t.send("displayNewPhoto",null,!1)}},Api3:function e(){var t=this;Object(f.a)(this,e),this.setSend=function(e){t.send=e},this.setGrayscale=function(e){h.forEach(function(t){t.getApiOfType("Common").displayGrayscale(e)})},this.setBlur=function(e){h.forEach(function(t){t.getApiOfType("Common").displayBlur(e)})}}},g=function(e){function t(){var e,i;Object(f.a)(this,t);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return(i=Object(c.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(a)))).setIframe=function(e){if(e&&!i.iframe){i.iframe=e;var t=i.props,n=t.src,a=t.type,o=t.apis,r=new URL(n);i.webApiBridge=new b.a,i.webApiBridge.origin=r.origin,i.webApiBridge.targetOrigin=r.origin,i.send=i.webApiBridge.send.bind(i.webApiBridge),h.push(Object(d.a)(i)),i.webApiBridge.target=e.contentWindow,window.addEventListener("message",function(e){e&&e.source===i.webApiBridge.target&&i.webApiBridge.onMessage(e,e.data)}),i.webApiBridge.apis=o.map(function(e){var t=new y[e];return t.setSend(i.send),t}),i.iframe.onload=function(){console.log("".concat(e.src," loaded")),i.send("ready",[{type:a,apis:o}],!1)}}},i.getApiOfType=function(e){return i.webApiBridge.apis.find(function(t){return t instanceof y[e]})},i}return Object(u.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props,i=t.src,n=(t.type,t.apis,Object(s.a)(t,["src","type","apis"]));return console.log("render iframe: ".concat(i)),a.a.createElement("iframe",Object.assign({src:i,title:i,ref:function(t){e.setIframe(t)},scrolling:"no"},n))}}]),t}(n.Component),w=(i(51),{src:"https://precor.github.io/web-api-bridge/examples/react-multi/webapp1/build/",type:"LibType1",apis:["Common","Api1"]}),A=[{src:"https://precor.github.io/web-api-bridge/examples/react-multi/webapp1/build/",type:"LibType2",apis:["Common","Api2","Api3"]},{src:"https://precor.github.io/web-api-bridge/examples/react-multi/webapp1/build/",type:"LibType2",apis:["Common","Api2"]},{src:"https://precor.github.io/web-api-bridge/examples/react-multi/webapp2/build/",type:"LibType2",apis:["Common","Api2"]},{src:"https://precor.github.io/web-api-bridge/examples/react-multi/webapp2/build/",type:"LibType2",apis:["Common","Api2"]}],v=function(){return console.log("render parent"),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(g,{className:"fullscreen-iframe",src:w.src,type:w.type,apis:w.apis})),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},A.map(function(e,t){var i=e.src,n=e.type,o=e.apis;return a.a.createElement(g,{className:"image-select",key:"LibType2_".concat(t),src:i,type:n,apis:o})})),a.a.createElement("div",{className:"overlay-text"},"Click on one of the 4 photos")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.3a76b983.chunk.js.map