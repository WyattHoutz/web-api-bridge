(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,i,t){e.exports=t(52)},51:function(e,i,t){},52:function(e,i,t){"use strict";t.r(i);var n=t(0),a=t.n(n),r=t(16),o=t.n(r),p=t(20),s=t(17),c=t(21),l=t(18),d=t(3),u=t(22),b=t(1),f=t(19),h=t.n(f),m=[],y={Common:function e(){var i=this;Object(b.a)(this,e),this.setSend=function(e){i.send=e},this.displayBlur=function(e){i.send("displayBlur",[e],!1)},this.displayGrayscale=function(e){i.send("displayGrayscale",[e],!1)}},Api1:function e(){var i=this;Object(b.a)(this,e),this.setSend=function(e){i.send=e},this.photoSelected=function(e){i.send("photoSelected",[e],!1)}},Api2:function e(){var i=this;Object(b.a)(this,e),this.setSend=function(e){i.send=e},this.photoClicked=function(e){m.find(function(e){return"LibType1"===e.props.type}).getApiOfType("Api1").photoSelected(e),m.forEach(function(e){e.send!==i.send&&"LibType2"===e.props.type&&e.getApiOfType("Api2").displayNewPhoto()})},this.displayNewPhoto=function(){i.send("displayNewPhoto",null,!1)}},Api3:function e(){var i=this;Object(b.a)(this,e),this.setSend=function(e){i.send=e},this.setGrayscale=function(e){m.forEach(function(i){i.getApiOfType("Common").displayGrayscale(e)})},this.setBlur=function(e){m.forEach(function(i){i.getApiOfType("Common").displayBlur(e)})}}},w=function(e){function i(){var e,t;Object(b.a)(this,i);for(var n=arguments.length,a=new Array(n),r=0;r<n;r++)a[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(l.a)(i)).call.apply(e,[this].concat(a)))).setIframe=function(e){if(e&&!t.iframe){t.iframe=e;var i=t.props,n=i.src,a=i.type,r=i.apis,o=new URL(n);t.webApiBridge=new h.a,t.webApiBridge.origin=o.origin,t.webApiBridge.targetOrigin=o.origin,t.send=t.webApiBridge.send.bind(t.webApiBridge),m.push(Object(d.a)(t)),t.webApiBridge.target=e.contentWindow,window.addEventListener("message",function(e){e&&e.source===t.webApiBridge.target&&t.webApiBridge.onMessage(e,e.data)}),t.webApiBridge.apis=r.map(function(e){var i=new y[e];return i.setSend(t.send),i}),t.iframe.onload=function(){console.log("".concat(e.src," loaded")),t.send("ready",[{type:a,apis:r}],!1)}}},t.getApiOfType=function(e){return t.webApiBridge.apis.find(function(i){return i instanceof y[e]})},t}return Object(u.a)(i,e),Object(s.a)(i,[{key:"render",value:function(){var e=this,i=this.props,t=i.src,n=(i.type,i.apis,Object(p.a)(i,["src","type","apis"]));return console.log("render iframe: ".concat(t)),a.a.createElement("iframe",Object.assign({src:t,title:t,ref:function(i){e.setIframe(i)},scrolling:"no"},n))}}]),i}(n.Component),g=(t(51),{src:"https://precor.github.io/web-api-bridge/examples/webapp-library/webapp1/build/",type:"LibType1",apis:["Common","Api1"]}),A=[{src:"https://precor.github.io/web-api-bridge/examples/webapp-library/webapp1/build/",type:"LibType2",apis:["Common","Api2","Api3"]},{src:"https://precor.github.io/web-api-bridge/examples/webapp-library/webapp1/build/",type:"LibType2",apis:["Common","Api2"]},{src:"https://precor.github.io/web-api-bridge/examples/webapp-library/webapp2/build/",type:"LibType2",apis:["Common","Api2"]},{src:"https://precor.github.io/web-api-bridge/examples/webapp-library/webapp2/build/",type:"LibType2",apis:["Common","Api2"]}],v=function(){return console.log("render parent"),a.a.createElement("div",null,a.a.createElement("div",null,a.a.createElement(w,{className:"fullscreen-iframe",src:g.src,type:g.type,apis:g.apis})),a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"row"},A.map(function(e,i){var t=e.src,n=e.type,r=e.apis;return a.a.createElement(w,{className:"image-select",key:"LibType2_".concat(i),src:t,type:n,apis:r})})),a.a.createElement("div",{className:"overlay-text"},"Click on one of the 4 photos")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[23,1,2]]]);
//# sourceMappingURL=main.55b11637.chunk.js.map