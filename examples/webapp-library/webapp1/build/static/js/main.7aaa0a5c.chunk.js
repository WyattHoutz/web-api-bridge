(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,n){},51:function(e,t,n){e.exports=n(92)},89:function(e,t,n){var a={"./Api1":28,"./Api1.js":28,"./Api2":29,"./Api2.js":29,"./Api3":30,"./Api3.js":30,"./Common":16,"./Common.js":16,"./Send":11,"./Send.js":11};function r(e){var t=c(e);return n(t)}function c(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=c,e.exports=r,r.id=89},92:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(47),o=n.n(c),l=n(5),i=n(6),s=n(8),u=n(7),d=n(9),p=n(48),h=n(1),b=n(31),m=n(33),y=n.n(m),f=n(49),g=function(){var e=Object(f.a)(y.a.mark(function e(t){var n,a,r,c,o,l,i;return y.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,a=t.grayscale,r=t.blur,c=n?"https://picsum.photos/id/".concat(n,"/").concat(window.innerWidth,"/").concat(window.innerHeight,"/"):"https://picsum.photos/".concat(window.innerWidth,"/").concat(window.innerHeight,"/"),a&&(c="".concat(c,"?grayscale")),r&&(c="".concat(c,a?"&blur":"?blur")),e.next=6,fetch(c);case 6:return o=e.sent,l=o.url.split("/")[4],e.next=10,o.blob();case 10:return i=e.sent,e.abrupt("return",{id:l,imageUrl:URL.createObjectURL(i),grayscale:a,blur:r});case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),v=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).photoSelected=function(e){var t=n.state,a=t.grayscale,r=t.blur;g({id:e,grayscale:a,blur:r}).then(function(e){return n.setState(e)})},n.state={},Object(b.setCallback)("photoSelected",n.photoSelected),window.onresize=function(){var e=n.state.id;n.photoSelected(e)},h.common.setCallback("displayGrayscale",function(e){var t=n.state,a=t.id,r=t.blur;g({id:a,grayscale:e,blur:r}).then(function(e){return n.setState(e)})}),h.common.setCallback("displayBlur",function(e){var t=n.state,a=t.id,r=t.grayscale;g({id:a,grayscale:r,blur:e}).then(function(e){return n.setState(e)})}),n.photoSelected(void 0),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("render webapp1.Type1");var e=this.state.imageUrl;return e?r.a.createElement("img",{src:e,alt:""}):null}}]),t}(a.Component),w=n(50),j=n(32),k=n(17),O=(n(46),{useGrayscale:k.setGrayscale,useBlur:k.setBlur}),C=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).displayNewPhoto=function(){var e=n.state,t=e.grayscale,a=e.blur;g({grayscale:t,blur:a}).then(function(e){return n.setState(e)})},n.photoClicked=function(){var e=n.state.id;Object(j.photoClicked)(e)},n.handleInputChange=function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,r=t.name;O[r](a),n.setState(Object(w.a)({},r,a))},n.state={useGrayscale:!1,useBlur:!1},h.api2.setCallback("displayNewPhoto",n.displayNewPhoto),h.common.setCallback("displayGrayscale",function(e){var t=n.state,a=t.id,r=t.blur;g({id:a,grayscale:e,blur:r}).then(function(e){return n.setState(e)})}),h.common.setCallback("displayBlur",function(e){var t=n.state,a=t.id,r=t.grayscale;g({id:a,grayscale:r,blur:e}).then(function(e){return n.setState(e)})}),window.onresize=function(){var e=n.state,t=e.id,a=e.grayscale,r=e.blur;g({id:t,grayscale:a,blur:r}).then(function(e){return n.setState(e)})},n.displayNewPhoto(),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){console.log("render webapp1.Type2");var e=this.state,t=e.imageUrl,n=e.useGrayscale,a=e.useBlur,c=this.props.canModPhotos;return t?r.a.createElement("div",{className:"container"},r.a.createElement("img",{src:t,alt:"",onClick:this.photoClicked}),c&&r.a.createElement("div",{className:"top-overlay"},r.a.createElement("label",null,"B/W:",r.a.createElement("input",{name:"useGrayscale",type:"checkbox",checked:n,onChange:this.handleInputChange})),r.a.createElement("label",null,"Blur:",r.a.createElement("input",{name:"useBlur",type:"checkbox",checked:a,onChange:this.handleInputChange})))):null}}]),t}(a.Component),S="https://precor.github.io",E=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).state={},Object(p.startApis)(S).then(function(e){var t=e.type,a=e.apis;console.log("webapp1 startApis: ",t,a),"LibType1"===t?n.setState({loadedType:v}):n.setState({loadedType:C,canModPhotos:!!a.find(function(e){return"Api3"===e})})}),n}return Object(d.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.state,t=e.loadedType,n=e.canModPhotos;return t?(console.log("webapp1 render ".concat(t.name)),r.a.createElement(r.a.Fragment,null,t===v?r.a.createElement(v,null):r.a.createElement(C,{canModPhotos:n}))):null}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(E,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[51,1,2]]]);
//# sourceMappingURL=main.7aaa0a5c.chunk.js.map